<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodiesParadise | Free Neural Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #00ffcc; --bg: #050505; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: white; margin: 0; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); }
        .neon-btn { 
            background: transparent; 
            border: 1px solid var(--accent); 
            color: var(--accent);
            box-shadow: 0 0 15px rgba(0, 255, 204, 0.2);
            transition: 0.3s;
        }
        .neon-btn:hover { background: var(--accent); color: black; box-shadow: 0 0 30px rgba(0, 255, 204, 0.5); }
        .loader { border-top-color: var(--accent); }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <nav class="p-6 flex justify-between items-center max-w-7xl mx-auto w-full">
        <span class="text-2xl font-black tracking-tighter uppercase">Foodies<span class="text-[#00ffcc]">Paradise</span></span>
        <div class="text-[10px] font-mono text-emerald-500 animate-pulse">● DATABASE ONLINE</div>
    </nav>

    <main class="flex-1 max-w-4xl mx-auto px-6 py-10 w-full">
        <header class="text-center mb-12">
            <h1 class="text-6xl font-extrabold mb-4 tracking-tight">Neural <span class="text-[#00ffcc]">Chef</span></h1>
            <p class="text-slate-400">Synthesize recipes using Free Open-Source Intelligence.</p>
        </header>

        <div class="glass p-3 rounded-2xl mb-10 flex flex-col md:flex-row gap-3">
            <input id="userInput" type="text" placeholder="Enter ingredients (e.g., Eggs, Spinach, Cheese)..." 
                class="flex-1 bg-transparent px-6 py-4 outline-none text-lg">
            <button onclick="synthesize()" id="btn" class="neon-btn px-10 py-4 rounded-xl font-bold uppercase tracking-widest text-sm">Synthesize</button>
        </div>

        <div id="loading" class="hidden text-center py-10">
            <div class="w-12 h-12 border-4 border-slate-800 loader rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-[#00ffcc] font-mono text-xs tracking-widest uppercase">Fetching from Hugging Face Hub...</p>
        </div>

        <div id="recipeResult" class="hidden glass p-8 md:p-12 rounded-[2rem] border-t-4 border-[#00ffcc]">
            <h2 id="title" class="text-4xl font-black mb-6"></h2>
            <div class="grid md:grid-cols-2 gap-10">
                <div>
                    <h3 class="text-[#00ffcc] font-bold uppercase text-xs tracking-widest mb-4 italic">Ingredients</h3>
                    <ul id="ingredients" class="space-y-2 text-slate-300"></ul>
                </div>
                <div>
                    <h3 class="text-[#00ffcc] font-bold uppercase text-xs tracking-widest mb-4 italic">Instructions</h3>
                    <div id="steps" class="space-y-4 text-slate-200 font-light"></div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // PASTE YOUR HUGGING FACE TOKEN HERE
        const hfToken = "PASTE_YOUR_HUGGING_FACE_TOKEN_HERE"; 

        async function synthesize() {
            const input = document.getElementById('userInput').value.trim();
            if (!input) return alert("Please enter ingredients!");

            const btn = document.getElementById('btn');
            const loading = document.getElementById('loading');
            const resultDiv = document.getElementById('recipeResult');

            btn.disabled = true;
            loading.classList.remove('hidden');
            resultDiv.classList.add('hidden');

            try {
                // Using Llama-3-8B via Hugging Face Inference API
                const response = await fetch("https://api-inference.huggingface.co/models/meta-llama/Meta-Llama-3-8B-Instruct", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${hfToken}`,
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        inputs: `<|begin_of_text|><|start_header_id|>system<|end_header_id|>
                        You are a master chef. Create a recipe for the ingredients provided. 
                        Return ONLY JSON with these keys: "title", "ingredients" (array), "instructions" (array).<|eot_id|>
                        <|start_header_id|>user<|end_header_id|>${input}<|eot_id|>
                        <|start_header_id|>assistant<|end_header_id|>`,
                        parameters: { max_new_tokens: 500, return_full_text: false }
                    }),
                });

                const data = await response.json();
                const output = data[0].generated_text;
                
                // Parse the JSON from the text response
                const json = JSON.parse(output.substring(output.indexOf('{'), output.lastIndexOf('}') + 1));

                document.getElementById('title').innerText = json.title;
                document.getElementById('ingredients').innerHTML = json.ingredients.map(i => `<li>• ${i}</li>`).join('');
                document.getElementById('steps').innerHTML = json.instructions.map((s, i) => `<p><b>${i+1}.</b> ${s}</p>`).join('');

                loading.classList.add('hidden');
                resultDiv.classList.remove('hidden');
            } catch (e) {
                console.error(e);
                alert("The free AI is busy or the token is invalid. Try again in a minute!");
                loading.classList.add('hidden');
            } finally {
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
